(function(e){function t(t){for(var n,i,a=t[0],c=t[1],u=t[2],d=0,p=[];d<a.length;d++)i=a[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&p.push(s[i][0]),s[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(p.length)p.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,a=1;a<r.length;a++){var c=r[a];0!==s[c]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},s={app:0},o=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var l=c;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},4678:function(e,t,r){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=o,e.exports=s,s.id="4678"},"4d76":function(e,t,r){"use strict";r("d818")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex column main-content",style:e.darkMode,attrs:{id:"app"}},[r("app-header"),r("router-view",{staticClass:"grow",style:e.darkMode}),r("el-button",{staticClass:"btn-chat",attrs:{type:"primary"},on:{click:function(t){e.isPopupShown=!e.isPopupShown}}},[r("i",{staticClass:"icon-chat el-icon-chat-dot-round\n"})]),e.isPopupShown?r("popup",[r("h1",{staticClass:"header-popup",attrs:{slot:"header"},slot:"header"},[e._v("Contect")]),r("chat-app"),r("h4",{attrs:{slot:"footer"},slot:"footer"},[e._v("ToyStore")])],1):e._e(),r("app-footer")],1)},o=[],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header-app-container flex space-between justify-center"},[r("nav",[r("span",{staticClass:"logo"},[e._v(" MisterToy ")]),r("router-link",{attrs:{to:"/",exact:""}},[e._v("Home")]),e._v(" | "),r("router-link",{attrs:{to:"/dashbord",exact:""}},[e._v("dashbord")]),e._v(" | "),e.loggedinUser&&e.loggedinUser.isAdmin?r("router-link",{attrs:{to:"/edit",exact:""}},[e._v("Add New |")]):e._e(),r("router-link",{attrs:{to:"/about",exact:""}},[e._v("About")]),e._v(" | "),r("router-link",{attrs:{to:"/reviews",exact:""}},[e._v("reviews")]),e._v(" | "),e.loggedinUser?e._e():r("router-link",{attrs:{to:"/login",exact:""}},[e._v("Login")]),r("el-button",{attrs:{type:e.darkModeType,round:""},on:{click:e.darkMode}},[e._v(e._s(e.darkModeTxtBtn))]),e.loggedinUser?r("div",[e._v("Walcome ,"),r("router-link",{attrs:{to:"/user",exact:""}},[e._v(e._s(e.loggedinUser.username))]),e._v(" "),r("br"),r("el-button",{staticClass:"mt-5",attrs:{type:"danger"},on:{click:e.logout}},[e._v("Logout")]),e.loggedinUser.isAdmin?r("el-button",{staticClass:"mt-5",attrs:{type:"danger"},on:{click:e.adminPanel}},[e._v("Admin Panel")]):e._e()],1):e._e()],1)])},a=[],c={data:function(){return{prefs:JSON.parse(JSON.stringify(this.$store.getters.siteTheme)),isDarkMode:!1}},computed:{loggedinUser:function(){return console.log("this.$store.getters.loggedinUser:",this.$store.getters.loggedinUser),this.$store.getters.loggedinUser},darkModeTxtBtn:function(){return this.isDarkMode?"Light":"DarkMode"},darkModeType:function(){return this.isDarkMode?"":"info"}},methods:{adminPanel:function(){this.$router.push("/admin").catch((function(){}))},logout:function(){this.$store.dispatch({type:"logout"}),console.log(this.loggedinUser,"logut!")},darkMode:function(){this.isDarkMode=!this.isDarkMode,this.isDarkMode?(this.prefs.color="#323131",this.prefs.bgColor="#505050"):(this.prefs.color="",this.prefs.bgColor="");var e=JSON.parse(JSON.stringify(this.prefs));this.$store.commit({type:"setPrefs",prefs:e})}}},u=c,l=r("2877"),d=Object(l["a"])(u,i,a,!1,null,null,null),p=d.exports,f=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},m=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-footer"},[r("div",{staticClass:"container flex column align-center"},[r("small",{staticClass:"copy-rights mr-5"},[e._v(" Copyrights Â© 2020 Guy Indepurker. All rights reserved")])])])}],v={name:"footer-app"},g=v,h=Object(l["a"])(g,f,m,!1,null,null,null),y=h.exports,b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"chat-app flex column space-between"},[r("div",{staticClass:"container-massages"},e._l(e.massages,(function(t){return r("div",{key:t._id,staticClass:"msg-txt-container"},[r("h2",[r("span",{staticClass:"title-user"},[e._v(e._s(t.name))]),e._v(" : "+e._s(t.txt))])])})),0),r("form",{staticClass:"flex ",on:{submit:function(t){return t.preventDefault(),e.sendMsg(t)}}},[r("el-input",{attrs:{placeholder:"ask something..."},model:{value:e.userMsg,callback:function(t){e.userMsg="string"===typeof t?t.trim():t},expression:"userMsg"}}),r("el-button",{staticClass:"mr-5",on:{click:e.sendMsg}},[e._v("Send")])],1)])},w=[],_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"popup-cotainer"},[e._t("header"),e._t("default",[r("p",[e._v("I am a default text")])]),e._t("footer")],2)},k=[],j={},x=Object(l["a"])(j,_,k,!1,null,null,null),C=x.exports;function S(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=["The sky","above","the port","was","the color of television","tuned","to","a dead channel",".","All","this happened","more or less",".","I","had","the story","bit by bit","from various people","and","as generally","happens","in such cases","each time","it","was","a different story",".","It","was","a pleasure","to","burn"],r="";while(e>0)e--,r+=t[Math.floor(Math.random()*t.length)]+" ";return r}function $(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}var O={makeId:S,getRandomInt:$,makeLorem:T},U={data:function(){return{userMsg:"",massages:[]}},methods:{sendMsg:function(){var e=JSON.parse(JSON.stringify(this.userMsg));if(e){var t={_id:O.makeId(),name:"User",txt:e};this.massages.push(t),this.userMsg="",this.answer()}},answer:function(){var e=this,t={_id:O.makeId(),name:"Store",txt:"Sorry , this chat is in progress..."};setTimeout((function(){e.massages.push(t)}),1e3)}},created:function(){this.answer()},components:{popup:C}},R=U,P=Object(l["a"])(R,b,w,!1,null,null,null),I=P.exports,E={name:"app-main",data:function(){return{isPopupShown:!1}},computed:{darkMode:function(){var e=this.$store.getters.siteTheme,t=e.color,r=e.bgColor;return{backgroundColor:r||"",color:t||""}}},created:function(){this.$store.dispatch({type:"loadToys"})},components:{appHeader:p,appFooter:y,chatApp:I,popup:C}},L=E,A=Object(l["a"])(L,s,o,!1,null,null,null),M=A.exports,B=r("8c4f"),N=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"toy-app"},[r("toy-filter",{on:{filtered:e.setFilter}}),e.isLoading?r("img",{attrs:{src:"https://i.pinimg.com/originals/78/e8/26/78e826ca1b9351214dfdd5e47f7e2024.gif"}}):r("toy-list",{staticClass:"container-toy",attrs:{toys:e.toys},on:{setPage:e.changeCurrPage,remove:e.removeToy}})],1)},D=[],z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"toy-filter flex column justify-center align-center wrap"},[r("h1",[e._v("Filter toys:")]),r("div",{staticClass:"filter-controls "},[r("form",{staticClass:"form-container flex row wrap justify-center align-center",on:{submit:function(t){return t.preventDefault(),e.emitFilter(t)}}},[r("el-input",{staticClass:"input-filter",attrs:{placeholder:"Looking for..."},on:{input:e.emitFilter},model:{value:e.filterBy.q,callback:function(t){e.$set(e.filterBy,"q",t)},expression:"filterBy.q"}}),r("el-select",{attrs:{placeholder:"Sort By"},model:{value:e.filterBy.sort,callback:function(t){e.$set(e.filterBy,"sort",t)},expression:"filterBy.sort"}},e._l(e.optionsSort,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),r("el-select",{attrs:{placeholder:"Sort by Type"},model:{value:e.filterBy.type,callback:function(t){e.$set(e.filterBy,"type",t)},expression:"filterBy.type"}},e._l(e.optionsType,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),r("el-select",{attrs:{placeholder:"Sort by Stock"},model:{value:e.filterBy.inStock,callback:function(t){e.$set(e.filterBy,"inStock",t)},expression:"filterBy.inStock"}},e._l(e.optionsStock,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("div",{staticClass:"flex justify-center align-center"},[r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.emitFilter}},[e._v("Search")])],1)])])},F=[],J=r("2ef0"),q=r.n(J),G={data:function(){return{filterBy:{q:"",inStock:"",type:"",sort:""},optionsType:[{value:"all",label:"All"},{value:"Adult",label:"Adult"},{value:"Educational",label:"Educational"},{value:"Funny",label:"Funny"}],optionsSort:[{value:"all",label:"All"},{value:"high",label:"Highest Price"},{value:"low",label:"Lowest Price"},{value:"name",label:"Name"}],optionsStock:[{value:"all",label:"All"},{value:!0,label:"In Stock"},{value:!1,label:"Out of Stock"}]}},computed:{stockTxt:function(){return this.filterBy.inStock?"In Stock":"Out Of Stock"}},methods:{emitFilter:function(){var e=JSON.parse(JSON.stringify(this.filterBy));console.log("filterBy q:",e),this.$emit("filtered",e)}},created:function(){this.emitFilter=q.a.debounce(this.emitFilter,500)}},H=G,V=Object(l["a"])(H,z,F,!1,null,null,null),W=V.exports,Y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.toys?r("section",{staticClass:"toy-list"},[r("ul",{staticClass:"toy-list clean-list flex row wrap align-center space-between"},e._l(e.toys,(function(t){return r("li",{key:t._id},[r("toy-preview",{attrs:{toy:t},on:{remove:e.removeCurrToy}})],1)})),0),r("div",{staticClass:"contorls-paging flex row space-around"},[r("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-left"},on:{click:function(t){return e.pagging(-1)}}},[e._v("Previous Page")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.pagging(1)}}},[e._v("Next Page"),r("i",{staticClass:"el-icon-arrow-right el-icon-right"})])],1)]):e._e()},K=[],Q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"toy-preview flex column wrap align-center justify-center"},[r("img",{staticClass:"img-item",attrs:{src:e.toy.imgUrl||"https://robohash.org/"+e.toy.name}}),r("h1",{staticClass:"name-preivew"},[e._v(e._s(e.toy.name))]),r("h1",[e._v(e._s(e.price))]),r("h2",{class:e.stockColor},[e._v(e._s(e.stock))]),r("div",{staticClass:"controls-preview"},[e.loggedinUser&&e.loggedinUser.isAdmin?[r("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.toyEdit(e.toy._id)}}}),r("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.removeCurrToy(e.toy._id)}}})]:e._e(),r("el-button",{on:{click:function(t){return e.toyDetails(e.toy._id)}}},[e._v("Details")])],2)])},X=[],Z={props:{toy:Object},computed:{price:function(){return"Price: "+this.toy.price+"$"},loggedinUser:function(){return this.$store.getters.loggedinUser},stock:function(){return this.toy.inStock?"In Stock":"Out Of Stock"},stockColor:function(){return{red:!this.toy.inStock,green:this.toy.inStock}}},methods:{toyDetails:function(e){this.$router.push("/details/".concat(e))},toyEdit:function(e){this.$router.push("/edit/".concat(e))},removeCurrToy:function(e){this.$emit("remove",e)}}},ee=Z,te=Object(l["a"])(ee,Q,X,!1,null,null,null),re=te.exports,ne={name:"toy-list",props:{toys:Array},methods:{removeCurrToy:function(e){this.$emit("remove",e)},pagging:function(e){this.$emit("setPage",e)}},components:{toyPreview:re}},se=ne,oe=Object(l["a"])(se,Y,K,!1,null,null,null),ie=oe.exports,ae={computed:{isLoading:function(){return this.$store.getters.isLoading},toys:function(){return JSON.parse(JSON.stringify(this.$store.getters.toysForDisplay))},user:function(){return this.$store.getters.loggedinUser}},methods:{changeCurrPage:function(e){this.$store.dispatch({type:"changePage",diff:e})},setFilter:function(e){this.$store.commit({type:"setFilter",filterBy:e}),this.$store.dispatch({type:"loadToys"})},removeToy:function(e){this.$store.dispatch({type:"removeToy",id:e})}},created:function(){this.$store.dispatch({type:"loadToys"})},components:{toyList:ie,toyFilter:W}},ce=ae,ue=Object(l["a"])(ce,N,D,!1,null,null,null),le=ue.exports,de=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"toy-edit mt-5"},[r("h1",[e._v(e._s(e.title))]),r("form",{staticClass:"form-editor flex column wrap align-center justify-center",on:{submit:function(t){return t.preventDefault(),e.saveToy(t)}}},[r("el-input",{attrs:{placeholder:"Toy Name"},model:{value:e.toyToSave.name,callback:function(t){e.$set(e.toyToSave,"name",t)},expression:"toyToSave.name"}}),r("el-input",{attrs:{placeholder:"Price"},model:{value:e.toyToSave.price,callback:function(t){e.$set(e.toyToSave,"price",e._n(t))},expression:"toyToSave.price"}}),r("el-select",{attrs:{placeholder:"Select Type"},model:{value:e.toyToSave.type,callback:function(t){e.$set(e.toyToSave,"type",t)},expression:"toyToSave.type"}},e._l(e.optionsType,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),r("el-checkbox",{model:{value:e.toyToSave.inStock,callback:function(t){e.$set(e.toyToSave,"inStock",t)},expression:"toyToSave.inStock"}},[e._v(e._s(e.stockTxt))]),e.isLoading?r("img",{staticClass:"loader",attrs:{src:"https://motiongraphicsphoebe.files.wordpress.com/2018/10/8ee212dac057d412972e0c8cc164deee.gif",alt:""}}):[e._m(0),r("input",{staticClass:"input-file",attrs:{type:"file",name:"img-uploader",id:"imgUploader"},on:{change:e.onUploadImg}})],e.toyToSave.imgUrl?r("div",{staticClass:"img-list"},[r("img",{attrs:{src:e.toyToSave.imgUrl,alt:"img..."}})]):e._e(),r("el-button",{staticClass:"mt-5",attrs:{type:"primary"},on:{click:e.saveToy}},[e._v(e._s(e.save))])],2)])},pe=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",{attrs:{for:"imgUploader"}},[r("img",{attrs:{src:"https://lh3.googleusercontent.com/proxy/ybV5upOkFlWYVsEN_aWw4UmnHgjOlEG9kzWbDfedBxVYU_jO6UK1bNgdzCGO1FRTT0oCoDPbtweZrB-Qc-dIopuMGygTvvhWdoJznm-RN6g9O_wF-5EuVg4Rr1o",alt:""}})])}],fe=(r("b0c0"),r("96cf"),r("1da1")),me=(r("99af"),r("bc3a")),ve=r.n(me),ge="/api/",he=ve.a.create({withCredentials:!0}),ye={get:function(e,t){return be(e,"GET",t)},post:function(e,t){return be(e,"POST",t)},put:function(e,t){return be(e,"PUT",t)},delete:function(e,t){return be(e,"DELETE",t)}};function be(e){return we.apply(this,arguments)}function we(){return we=Object(fe["a"])(regeneratorRuntime.mark((function e(t){var r,n,s,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:"get",n=o.length>2&&void 0!==o[2]?o[2]:null,e.prev=2,e.next=5,he({url:"".concat(ge).concat(t),method:r,data:n});case 5:return s=e.sent,e.abrupt("return",s.data);case 9:throw e.prev=9,e.t0=e["catch"](2),401===e.t0.response.status&&Ir.push("/"),console.log("Had issues ".concat(r,"ing to server"),e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,9]])}))),we.apply(this,arguments)}var _e={getById:xe,remove:Ce,save:Se,getEmptyToy:Te,query:ke};function ke(){return je.apply(this,arguments)}function je(){return je=Object(fe["a"])(regeneratorRuntime.mark((function e(){var t,r,n,s,o,i,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:null,r="",t&&(n="all"===t.inStock?"":"&inStock=".concat(t.inStock),s="all"===t.sort?"":"&sort=".concat(t.sort),o="all"===t.type?"":"&type=".concat(t.type),i=t.q?"&q=".concat(t.q):"",r="".concat(i).concat(s).concat(n).concat(o)),e.abrupt("return",ye.get("toy?".concat(r)));case 4:case"end":return e.stop()}}),e)}))),je.apply(this,arguments)}function xe(e){return ye.get("toy/".concat(e))}function Ce(e){return ye.delete("toy/".concat(e))}function Se(e){return e._id?(e.updateAt=Date.now(),ye.put("toy/".concat(e._id),e)):(e.createdAt=Date.now(),ye.post("toy",e))}function Te(){return{name:"",price:"",inStock:!0,type:""}}var $e,Oe,Ue=function(){var e=Object(fe["a"])(regeneratorRuntime.mark((function e(t){var r,n,s,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="iq3vux0y",n="mstoysguy",s="https://api.cloudinary.com/v1_1/".concat(n,"/image/upload"),o=new FormData,o.append("file",t.target.files[0]),o.append("upload_preset",r),e.prev=6,e.next=9,ve.a.post(s,o);case 9:return i=e.sent,e.abrupt("return",i.data);case 13:e.prev=13,e.t0=e["catch"](6),console.error("ERROR!",e.t0);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}(),Re={name:"toy-edit",data:function(){return{isLoading:!1,toyToSave:_e.getEmptyToy(),optionsType:[{value:"Adult",label:"Adult"},{value:"Educational",label:"Educational"},{value:"Funny",label:"Funny"}]}},computed:{title:function(){return this.$route.params.toyId?"Toy Editor":"Add New Toy"},save:function(){return this.$route.params.toyId?"Save Changes":"Add"},toysTypes:function(){return this.$store.getters.typesForDisplay},stockTxt:function(){return this.toyToSave.inStock?"In Stock":"Out Of Stock"}},methods:{onUploadImg:function(e){var t=this;return Object(fe["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.isLoading=!0,r.next=3,Ue(e);case 3:n=r.sent,t.toyToSave.imgUrl=n.url,t.isLoading=!1;case 6:case"end":return r.stop()}}),r)})))()},saveToy:function(){var e=JSON.parse(JSON.stringify(this.toyToSave));e.name&&(this.$store.dispatch({type:"saveToy",toy:e}),this.todoToUpdate=_e.getEmptyToy(),this.$router.push("/"))},loadToy:function(e){var t=this;return Object(fe["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,_e.getById(e);case 2:n=r.sent,t.toyToSave=n;case 4:case"end":return r.stop()}}),r)})))()}},created:function(){var e=this.$route.params.toyId;e&&this.loadToy(e)},components:{}},Pe=Re,Ie=Object(l["a"])(Pe,de,pe,!1,null,null,null),Ee=Ie.exports,Le=function(){var e=this,t=e.$createElement,r=e._self._c||t;return!e.isLoading&&e.toy?r("section",{staticClass:"toy-details flex column justify-center align-center"},[r("div",{staticClass:"toy-details-container flex align-center space-between wrap"},[r("div",{staticClass:"flex column align-center wrap"},[r("h2",[r("strong",[e._v("Name:")]),e._v(e._s(e.toy.name))]),r("h2",[r("strong",[e._v("Type:")]),e._v(e._s(e.toy.type))]),r("h2",[r("strong",[e._v("Price:")]),e._v(e._s(e.toy.price)+"$")]),r("h2",[r("strong",[e._v("Date Add:")]),e._v(e._s(e.year))]),r("h2",[r("strong",[e._v("In Stock:")]),e._v(" "),r("span",{class:e.stockColor},[e._v(e._s(e.stock))])])]),r("img",{staticClass:"img-item",attrs:{src:e.toy.imgUrl||"https://robohash.org/"+e.toy.name}})]),r("section",{staticClass:"reviews"},[e.user?r("add-review",{attrs:{user:e.user,toy:e.toy}}):e._e(),e.reviews?r("review-list",{attrs:{user:e.user,reviews:e.reviews}}):e._e()],1),r("el-button",{staticClass:"mt-5",attrs:{type:"warning",plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("Go Back")])],1):e._e()},Ae=[],Me=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"reviews-list"},[r("h1",[e._v("Reviews:")]),e.reviews?r("ul",{staticClass:"review-list clean-list flex row wrap justify-center align-center"},e._l(e.reviews,(function(t){return r("li",{key:t._id},[r("el-rate",{attrs:{value:t.rate,disabled:"","show-score":"","text-color":"#ff9900","score-template":"{value} points"}}),r("div",{staticClass:"flex wrap justify-center align-center"},[r("avatar",{attrs:{username:t.byUser.username}}),r("strong",{staticClass:"ml-5"},[e._v("By: "+e._s(t.byUser.username))])],1),r("h3",{staticClass:"review-txt"},[e._v("review: "+e._s(t.txt))]),r("h5",[e._v(e._s(e.date(t.createdAt)))]),e.user&&(e.user._id===t.byUserId||e.user.isAdmin)?r("el-button",{staticClass:"mt-5",attrs:{type:"danger",plain:""},on:{click:function(r){return e.removeReview(t._id)}}},[e._v("X")]):e._e()],1)})),0):e._e()])},Be=[],Ne=r("4a89"),De=r.n(Ne),ze={name:"review-list",props:{reviews:[Array,Object]},computed:{user:function(){return this.$store.getters.loggedinUser}},methods:{removeReview:function(e){this.$store.dispatch({type:"removeReview",reviewId:e})},date:function(e){return new Date(e).toLocaleString()}},components:{Avatar:De.a}},Fe=ze,Je=Object(l["a"])(Fe,Me,Be,!1,null,null,null),qe=Je.exports,Ge=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.user?r("section",{staticClass:"add-reviews "},[r("el-button",{attrs:{type:e.reviewType,plain:""},on:{click:function(t){e.isAddReivew=!e.isAddReivew}}},[e._v(e._s(e.reviewButton))]),e.isAddReivew?r("form",{staticClass:"form-review flex column wrap align-center mt-5",on:{submit:function(t){return t.preventDefault(),e.addReview()}}},[r("el-rate",{attrs:{texts:["bad","disappointed","normal","good","great"],"show-text":""},model:{value:e.reviewToEdit.rate,callback:function(t){e.$set(e.reviewToEdit,"rate",t)},expression:"reviewToEdit.rate"}}),r("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},resize:"none",placeholder:"Your Opinion Matters..."},model:{value:e.reviewToEdit.txt,callback:function(t){e.$set(e.reviewToEdit,"txt",t)},expression:"reviewToEdit.txt"}}),r("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.addReview()}}},[e._v("Save")])],1):e._e()],1):e._e()},He=[],Ve={props:{user:{type:Object,required:!0},toy:{type:Object,required:!0}},data:function(){return{reviewToEdit:{txt:"",rate:0},isAddReivew:!1}},computed:{reviewType:function(){return this.isAddReivew?"danger":"success"},reviewButton:function(){return this.isAddReivew?"Close Review Comment":"Add New Review"}},methods:{addReview:function(){this.reviewToEdit.toyId=this.toy._id,this.reviewToEdit.createdAt=Date.now(),this.$store.dispatch({type:"addReview",review:this.reviewToEdit}),this.reviewToEdit={txt:"",rate:0}}}},We=Ve,Ye=Object(l["a"])(We,Ge,He,!1,null,null,null),Ke=Ye.exports,Qe={name:"toy-details",data:function(){return{}},computed:{toy:function(){return this.$store.getters.toyForDisplay},isLoading:function(){return this.$store.isLoading},price:function(){return"Price: "+this.toy.price+" $"},stock:function(){return this.toy.inStock?"Stock":"Out Of Stock"},reviews:function(){return this.$store.getters.reviews},user:function(){return this.$store.getters.loggedinUser},year:function(){var e=new Date(this.toy.createdAt).toLocaleDateString();return e},stockColor:function(){return{red:!this.toy.inStock,green:this.toy.inStock}}},methods:{},created:function(){var e=this.$route.params.toyId;e||this.$router.go(-1),this.$store.dispatch({type:"loadToy",toyId:e}),this.$store.dispatch({type:"loadUsers"}),this.$store.dispatch({type:"loadReviews",filterBy:{toyId:e}})},components:{reviewList:qe,addReview:Ke}},Xe=Qe,Ze=Object(l["a"])(Xe,Le,Ae,!1,null,null,null),et=Ze.exports,tt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.types?r("section",{staticClass:"dasbord flex row justify-center"},[r("chart",{staticClass:"charting",attrs:{label:e.titleTypesChart,labels:e.typesKeys,data:e.typesValue}})],1):e._e()},rt=[],nt=(r("13d5"),r("b64b"),r("07ac"),r("1fca")),st={extends:nt["a"],props:{labels:Array,data:Array,label:String},mounted:function(){this.renderChart({labels:this.labels,datasets:[{label:this.label,backgroundColor:"#f87979",data:this.data}]})}},ot=st,it=Object(l["a"])(ot,$e,Oe,!1,null,null,null),at=it.exports,ct={name:"dashbord",data:function(){return{types:null}},computed:{toys:function(){return JSON.parse(JSON.stringify(this.$store.getters.toysForDisplay))},typesKeys:function(){return Object.keys(this.types)},typesValue:function(){return Object.values(this.types)},titleTypesChart:function(){return"Price for catrgory"}},created:function(){var e=this.toys.reduce((function(e,t){return e[t.type]||(e[t.type]=0),e[t.type]+=t.price,e}),{});this.types=e},components:{chart:at}},ut=ct,lt=Object(l["a"])(ut,tt,rt,!1,null,null,null),dt=lt.exports,pt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"about-us flex column wrap align-center mt-5"},[r("h1",[e._v("Contect Us")]),e._m(0),r("google-maps",{attrs:{center:e.center,zoom:e.zoom}}),r("h2",[e._v("Our Branches")]),r("div",{staticClass:"contorls-map flex row wrap align-center mt-5"},[r("el-button",{attrs:{type:"primery mt-5"},on:{click:function(t){return e.panToMap(40.712776,-74.005974)}}},[e._v("Los Angels")]),r("el-button",{attrs:{type:"primery mt-5"},on:{click:function(t){return e.panToMap(34.052235,-118.243683)}}},[e._v("New York")]),r("el-button",{attrs:{type:"primery mt-5"},on:{click:function(t){return e.panToMap(21.306944,-157.858337)}}},[e._v("Honolulu")])],1),r("section",{staticClass:"acotrion mt-5 mb-5"},[r("accordion-group",[r("accordion-item",{attrs:{title:"The Team"}},[r("h2",{staticClass:"txt"},[e._v(e._s(e.lorem))])]),r("accordion-item",{attrs:{title:"About Us"}},[r("h2",{staticClass:"txt"},[e._v(e._s(e.lorem))])]),r("accordion-item",{attrs:{title:"Our features"}},[r("h2",{staticClass:"txt"},[e._v(e._s(e.lorem))])])],1)],1)],1)},ft=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"contect-us"},[r("h2",[r("strong",[e._v("Phone:")]),e._v(" 402-736-2502")]),r("h2",{staticClass:"title-address"},[r("strong",[e._v("Address:")]),e._v(" NY,New York,4990 Bell Street,US")])])}],mt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("GmapMap",{staticStyle:{width:"500px",height:"300px"},attrs:{center:e.center,zoom:e.zoom,"map-type-id":"terrain",options:{zoomControl:!0,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!0,disableDefaultUi:!1}}},e._l(e.markers,(function(t,n){return r("GmapMarker",{key:n,attrs:{position:t.position,clickable:!0,draggable:!0},on:{click:function(r){e.center=t.position}}})})),1)},vt=[],gt=(r("a9e3"),{props:{zoom:[Number,String],center:Object},data:function(){return{markers:[{position:{lat:40.712776,lng:-74.005974}},{position:{lat:34.052235,lng:-118.243683}},{position:{lat:21.306944,lng:-157.858337}}]}}}),ht=gt,yt=Object(l["a"])(ht,mt,vt,!1,null,null,null),bt=yt.exports,wt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"acordion-group"},[e._t("default")],2)},_t=[],kt=(r("4160"),r("159b"),{methods:{toggleAccordion:function(e){this.$children.forEach((function(e){e.isActive=!1})),e.isActive=!0}}}),jt=kt,xt=Object(l["a"])(jt,wt,_t,!1,null,null,null),Ct=xt.exports,St=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"accordion-item",on:{click:e.toggleItem}},[r("h2",{staticClass:"title"},[e._v(e._s(e.title))]),r("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}]},[e._t("default",[e._v("Sorry we didnt have content yet...")])],2)])},Tt=[],$t={props:{title:{type:String,required:!0}},data:function(){return{isActive:!1}},methods:{toggleItem:function(){this.$parent.toggleAccordion(this)}}},Ot=$t,Ut=Object(l["a"])(Ot,St,Tt,!1,null,null,null),Rt=Ut.exports,Pt={data:function(){return{center:{lat:40.712776,lng:-74.005974},zoom:3}},methods:{panToMap:function(e,t){this.center={lat:e,lng:t},this.zoom=7}},computed:{lorem:function(){return O.makeLorem()}},components:{googleMaps:bt,accordionGroup:Ct,accordionItem:Rt}},It=Pt,Et=Object(l["a"])(It,pt,ft,!1,null,null,null),Lt=Et.exports,At=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.user?r("section",{staticClass:"user-details"},[r("div",{staticClass:"user-profile flex column wrap align-center"},[r("h1",[e._v("User profile")]),r("avatar",{attrs:{username:e.user.username}}),r("h2",[e._v("User Name: "+e._s(e.user.username))]),r("h2",[e._v("Email: "+e._s(e.user.email))]),r("div",{staticClass:"flex column wrap space-between align-center"},[r("gender-picker",{model:{value:e.userPrfs.gender,callback:function(t){e.$set(e.userPrfs,"gender",t)},expression:"userPrfs.gender"}}),r("color-picker",{model:{value:e.userPrfs.favColor,callback:function(t){e.$set(e.userPrfs,"favColor",t)},expression:"userPrfs.favColor"}}),r("el-button",{staticClass:"mt-5",attrs:{type:"primary",i:""},on:{click:e.updateUser}},[e._v("Save")]),r("el-button",{staticClass:"mt-5",attrs:{type:"primary",i:""},on:{click:function(t){e.isShowReview=!e.isShowReview}}},[e._v(e._s(e.reviewBtn))])],1)],1),e.reviews&&e.isShowReview?r("section",{staticClass:"reviews flex column wrap"},[e.user?r("review-list",{attrs:{reviews:e.reviews}}):e._e()],1):e._e()]):e._e()},Mt=[],Bt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"gender-picker"},[e.isPick?r("ul",{directives:[{name:"show",rawName:"v-show",value:e.isPick,expression:"isPick"}],staticClass:"gender-select"},e._l(e.options,(function(t,n){return r("li",{key:n,on:{click:function(r){return e.genderSelect(t)}}},[e._v(" "+e._s(t)+" ")])})),0):r("div",{on:{click:function(t){e.isPick=!e.isPick}}},[r("strong",[e._v("Gender: ")]),e._v(e._s(e.value))])])},Nt=[],Dt={props:{value:String},data:function(){return{isPick:!1,options:["Male","Female","None"]}},methods:{genderSelect:function(e){this.$emit("input",e),this.isPick=!1}}},zt=Dt,Ft=(r("4d76"),Object(l["a"])(zt,Bt,Nt,!1,null,null,null)),Jt=Ft.exports,qt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"color-picker "},[r("div",{staticClass:"color-pick",style:{backgroundColor:e.value},on:{click:function(t){e.isPick=!e.isPick}}}),r("div",{directives:[{name:"show",rawName:"v-show",value:e.isPick,expression:"isPick"}],staticClass:"colors-controls flex row wrap align-center"},e._l(e.colors,(function(t){return r("div",{key:t,staticClass:"color-pick",style:{backgroundColor:t},on:{click:function(r){return e.selectColor(t)}}})})),0)])},Gt=[],Ht={props:{value:String},data:function(){return{isPick:!1,colors:["#ff2211","#ab00b8","#5e22a3","#3c4bbe","#00b338","#009986","#00bed8","#0094fd","#74c715","#c6df00","#ffed00","#ffc000","#000000","#567c8c","#9d9d9d","#805344","#ff4200"]}},methods:{selectColor:function(e){this.$emit("input",e),this.isPick=!1}}},Vt=Ht,Wt=(r("bc9f"),Object(l["a"])(Vt,qt,Gt,!1,null,null,null)),Yt=Wt.exports,Kt={login:tr,logout:or,signup:nr,getUsers:Qt,getById:Xt,remove:Zt,update:er};function Qt(){return ye.get("user")}function Xt(e){return ye.get("user/".concat(e))}function Zt(e){return ye.delete("user/".concat(e))}function er(e){return ye.put("user/".concat(e._id),e)}function tr(e){return rr.apply(this,arguments)}function rr(){return rr=Object(fe["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ye.post("auth/login",t);case 2:return r=e.sent,e.abrupt("return",ar(r));case 4:case"end":return e.stop()}}),e)}))),rr.apply(this,arguments)}function nr(e){return sr.apply(this,arguments)}function sr(){return sr=Object(fe["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("userCred:",t),e.next=3,ye.post("auth/signup",t);case 3:return r=e.sent,e.abrupt("return",ar(r));case 5:case"end":return e.stop()}}),e)}))),sr.apply(this,arguments)}function or(){return ir.apply(this,arguments)}function ir(){return ir=Object(fe["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ye.post("auth/logout");case 2:sessionStorage.clear();case 3:case"end":return e.stop()}}),e)}))),ir.apply(this,arguments)}function ar(e){return sessionStorage.setItem("user",JSON.stringify(e)),e}var cr={data:function(){return{userPrfs:{favColor:"black",gender:"male"},isShowReview:!0,user:this.$store.getters.loggedinUser}},computed:{reviews:function(){return console.log("this.$store.getters.reviews;:",this.$store.getters.reviews),this.$store.getters.reviews},reviewBtn:function(){return this.isShowReview?"Hide Reviews":"Show Reviews"}},methods:{updateUser:function(){var e=JSON.parse(JSON.stringify(this.userPrfs));this.userPrfs=e},getUser:function(e){var t=this;return Object(fe["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Kt.getById(e);case 2:n=r.sent,t.$store.dispatch({type:"loadReviews",filterBy:{userId:n._id}}),t.user=n;case 5:case"end":return r.stop()}}),r)})))()}},created:function(){var e=this.$route.params.userId;e?this.getUser(e):this.$store.dispatch({type:"loadReviews",filterBy:{userId:this.user._id}})},components:{reviewList:qe,Avatar:De.a,genderPicker:Jt,colorPicker:Yt}},ur=cr,lr=Object(l["a"])(ur,At,Mt,!1,null,null,null),dr=lr.exports,pr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.reviews?r("section",{staticClass:"reviews"},[r("review-list",{attrs:{title:"Toy review",reviews:e.reviews}})],1):e._e()},fr=[],mr={computed:{reviews:function(){return console.log("this.$store.getters.reviews;:",this.$store.getters.reviews),this.$store.getters.reviews}},created:function(){this.$store.dispatch({type:"loadReviews",filterBy:null})},components:{reviewList:qe}},vr=mr,gr=Object(l["a"])(vr,pr,fr,!1,null,null,null),hr=gr.exports,yr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"login-page"},[r("h1",[e._v(e._s(e.titleLogin))]),r("h2",{staticClass:"msg"},[e._v(e._s(e.msg))]),e.loggedinUser?r("div",[r("h2",{staticClass:"green"},[e._v("Walcome back,"+e._s(e.loggedinUser.username)+" moving you to the main page")]),r("el-button",{attrs:{type:"danger"},on:{click:e.doLogout}},[e._v("Logout")])],1):r("div",[r("form",{directives:[{name:"show",rawName:"v-show",value:!e.isSignUp,expression:"!isSignUp"}],staticClass:"form-login flex column wrap align-center",on:{submit:function(t){return t.preventDefault(),e.doLogin(t)}}},[r("el-input",{attrs:{placeholder:"Email"},model:{value:e.loginCred.email,callback:function(t){e.$set(e.loginCred,"email",t)},expression:"loginCred.email"}}),r("el-input",{attrs:{placeholder:"Please Enter Password","show-password":""},model:{value:e.loginCred.password,callback:function(t){e.$set(e.loginCred,"password",t)},expression:"loginCred.password"}}),r("el-button",{attrs:{type:"primary"},on:{click:e.doLogin}},[e._v("Login")]),r("div",{staticClass:"mt-5"},[e._v(" Not A member? "),r("strong",[r("span",{staticClass:"green sign-up-click",on:{click:function(t){e.isSignUp=!e.isSignUp}}},[e._v("Signup")])])])],1),r("form",{directives:[{name:"show",rawName:"v-show",value:e.isSignUp,expression:"isSignUp"}],staticClass:"form-login flex column wrap align-center",on:{submit:function(t){return t.preventDefault(),e.doSignup(t)}}},[r("el-input",{attrs:{placeholder:"Email"},model:{value:e.signupCred.email,callback:function(t){e.$set(e.signupCred,"email",t)},expression:"signupCred.email"}}),r("el-input",{attrs:{placeholder:"Password","show-password":""},model:{value:e.signupCred.password,callback:function(t){e.$set(e.signupCred,"password",t)},expression:"signupCred.password"}}),r("el-input",{attrs:{placeholder:"User name"},model:{value:e.signupCred.username,callback:function(t){e.$set(e.signupCred,"username",t)},expression:"signupCred.username"}}),r("el-button",{attrs:{type:"primary"},on:{click:e.doSignup}},[e._v("Signup")]),r("div",{staticClass:"mt-5"},[e._v(" Alerdy A member? "),r("strong",[r("span",{staticClass:"green sign-up-click",on:{click:function(t){e.isSignUp=!e.isSignUp}}},[e._v("Login")])])])],1)])])},br=[],wr=r("5530"),_r={name:"user-login",data:function(){return{loginCred:{},signupCred:{},msg:"",isSignUp:!1}},computed:{users:function(){return this.$store.getters.users},loggedinUser:function(){return console.log("this.$store.getters.loggedinUser:",this.$store.getters.loggedinUser),this.$store.getters.loggedinUser},titleLogin:function(){return this.isSignUp?"Sign up":"Login"}},created:function(){console.log("this.loggedinUser",this.loggedinUser)},methods:{doLogin:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.loginCred,r.email&&r.password){t.next=3;break}return t.abrupt("return",e.msg="Please enter user/password");case 3:return t.next=5,e.$store.dispatch({type:"login",userCred:r});case 5:setTimeout((function(){e.$router.push("/")}),2e3),e.loginCred={};case 7:case"end":return t.stop()}}),t)})))()},doLogout:function(){this.$store.dispatch({type:"logout"})},doSignup:function(){var e=this,t=this.signupCred;if(!t.email||!t.password||!t.username)return this.msg="Please fill up the form";this.$store.dispatch({type:"signup",userCred:t}),setTimeout((function(){e.$router.push("/")}),2e3)}},watch:{loggedinUser:function(){this.userToEdit=Object(wr["a"])({},this.loggedinUser)}}},kr=_r,jr=Object(l["a"])(kr,yr,br,!1,null,null,null),xr=jr.exports,Cr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.loggedinUser&&e.loggedinUser.isAdmin?r("section",{staticClass:"admin"},[r("table",[e._m(0),r("tbody",e._l(e.users,(function(t){return r("tr",{key:t._id},[r("td",[e._v(e._s(t._id))]),r("td",[e._v(e._s(t.username))]),r("td",[e._v(e._s(t.email))]),r("td",[r("router-link",{attrs:{to:"/user/"+t._id}},[e._v("Profile")])],1),r("td",{directives:[{name:"show",rawName:"v-show",value:t._id!==e.loggedinUser._id,expression:"user._id !== loggedinUser._id "}]},[r("button",{on:{click:function(r){return e.removeUser(t._id)}}},[e._v("X")])])])})),0)])]):e._e()},Sr=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("th",[e._v("User ID")]),r("th",[e._v("User Name")]),r("th",[e._v("Email")]),r("th",[e._v("User Details")]),r("th",[e._v("Actions")])])}],Tr={methods:{removeUser:function(e){this.$store.dispatch({type:"removeUser",userId:e})}},computed:{loggedinUser:function(){return this.$store.getters.loggedinUser},users:function(){return this.$store.getters.users}},created:function(){this.loggedinUser&&this.loggedinUser.isAdmin?this.$store.dispatch({type:"loadUsers"}):this.$router.push("/")}},$r=Tr,Or=Object(l["a"])($r,Cr,Sr,!1,null,null,null),Ur=Or.exports;n["default"].use(B["a"]);var Rr=[{path:"/login",name:"login",component:xr},{path:"/",name:"home",component:le},{path:"/edit/:toyId?",name:"edit",component:Ee},{path:"/details/:toyId",name:"details",component:et},{path:"/dashbord",name:"dashbord",component:dt},{path:"/about",name:"about",component:Lt},{path:"/user/:userId?",name:"user",component:dr},{path:"/reviews",component:hr},{path:"/admin",component:Ur}],Pr=new B["a"]({routes:Rr}),Ir=Pr,Er=r("2f62"),Lr=(r("c740"),r("a434"),{state:{toys:[],filterBy:null,toy:null},getters:{toysForDisplay:function(e){return e.toys},toyForDisplay:function(e){return e.toy}},mutations:{setToy:function(e,t){var r=t.toy;e.toy=r,console.log("state.toy:",e.toy)},setToys:function(e,t){var r=t.toys;e.toys=r},saveToy:function(e,t){var r=t.toy;e.toys.unshift(r)},removeToy:function(e,t){var r=t.id,n=e.toys.findIndex((function(e){return e._id===r}));e.toys.splice(n,1)},updateToy:function(e,t){var r=t.toy,n=e.toys.findIndex((function(e){return e._id===r._id}));e.toys.splice(n,1,r)},changePage:function(e,t){var r=t.diff;e.page+=r,0!==e.page&&e.toys.length||(e.page=1)},setFilter:function(e,t){var r=t.filterBy;console.log("state.filterBy:",e.filterBy),e.filterBy=r}},actions:{loadToy:function(e,t){return Object(fe["a"])(regeneratorRuntime.mark((function r(){var n,s,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,s=t.toyId,n({type:"setIsLoading",isLoading:!0}),r.next=5,_e.getById(s);case 5:o=r.sent,n({type:"setToy",toy:o}),setTimeout((function(){n({type:"setIsLoading",isLoading:!1})}),2e3);case 8:case"end":return r.stop()}}),r)})))()},loadToys:function(e){return Object(fe["a"])(regeneratorRuntime.mark((function t(){var r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,n=e.state,r({type:"setIsLoading",isLoading:!0}),t.next=4,_e.query(n.filterBy);case 4:s=t.sent,console.log("toys load:",s),r({type:"setToys",toys:s}),setTimeout((function(){r({type:"setIsLoading",isLoading:!1})}),2e3);case 8:case"end":return t.stop()}}),t)})))()},saveToy:function(e,t){return Object(fe["a"])(regeneratorRuntime.mark((function r(){var n,s,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,s=t.toy,n({type:"setIsLoading",isLoading:!0}),o=s._id?"updateToy":"saveToy",r.next=6,_e.save(s);case 6:n({type:o,toy:s}),setTimeout((function(){n({type:"setIsLoading",isLoading:!1})}),2e3);case 8:case"end":return r.stop()}}),r)})))()},removeToy:function(e,t){return Object(fe["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,s=t.id,r.next=4,_e.remove(s);case 4:n({type:"removeToy",id:s});case 5:case"end":return r.stop()}}),r)})))()},changePage:function(e,t){return Object(fe["a"])(regeneratorRuntime.mark((function r(){var n,s,o,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,s=e.state,o=t.diff,n({type:"setIsLoading",isLoading:!0}),n({type:"changePage",diff:o}),r.next=6,_e.query(s.page);case 6:i=r.sent,n({type:"setToys",toys:i}),setTimeout((function(){n({type:"setIsLoading",isLoading:!1})}),2e3);case 9:case"end":return r.stop()}}),r)})))()}}}),Ar=(r("4de4"),null);sessionStorage.user&&(Ar=JSON.parse(sessionStorage.user));var Mr={state:{loggedinUser:Ar,users:[]},getters:{users:function(e){return e.users},loggedinUser:function(e){return e.loggedinUser},reviewsByUser:function(e){return e.reviewsByUser}},mutations:{setUser:function(e,t){var r=t.user;e.loggedinUser=r},setUsers:function(e,t){var r=t.users;e.users=r},removeUser:function(e,t){var r=t.userId;e.users=e.users.filter((function(e){return e._id!==r}))}},actions:{login:function(e,t){return Object(fe["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.userCred,r.next=3,Kt.login(n);case 3:return s=r.sent,e.commit({type:"setUser",user:s}),r.abrupt("return",s);case 6:case"end":return r.stop()}}),r)})))()},signup:function(e,t){return Object(fe["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.userCred,r.next=3,Kt.signup(n);case 3:return s=r.sent,e.commit({type:"setUser",user:s}),r.abrupt("return",s);case 6:case"end":return r.stop()}}),r)})))()},logout:function(e){return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Kt.logout();case 2:e.commit({type:"setUsers",users:[]}),e.commit({type:"setUser",user:null});case 4:case"end":return t.stop()}}),t)})))()},loadUsers:function(e){return Object(fe["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Kt.getUsers();case 2:r=t.sent,e.commit({type:"setUsers",users:r});case 4:case"end":return t.stop()}}),t)})))()},removeUser:function(e,t){return Object(fe["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.userId,r.next=3,Kt.remove(n);case 3:e.commit({type:"removeUser",userId:n});case 4:case"end":return r.stop()}}),r)})))()},updateUser:function(e,t){return Object(fe["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.user,r.next=3,Kt.update(n);case 3:n=r.sent,e.commit({type:"setUser",user:n});case 5:case"end":return r.stop()}}),r)})))()}}},Br={add:zr,query:Nr,remove:Dr};function Nr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t="";if(e){var r=e.userId?"?userId=".concat(e.userId):"",n=e.toyId?"?toyId=".concat(e.toyId):"";t="".concat(r).concat(n)}return console.log("query:",t),ye.get("review".concat(t))}function Dr(e){return console.log("reviewId:",e),ye.delete("review/".concat(e))}function zr(e){return ye.post("review",e)}var Fr={state:{reviews:[]},getters:{reviews:function(e){return e.reviews}},mutations:{setReviews:function(e,t){var r=t.reviews;e.reviews=r},addReview:function(e,t){var r=t.review;e.reviews.push(r)},removeReview:function(e,t){var r=t.reviewId;e.reviews=e.reviews.filter((function(e){return e._id!==r}))}},actions:{addReview:function(e,t){return Object(fe["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.review,r.next=3,Br.add(n);case 3:return n=r.sent,e.commit({type:"addReview",review:n}),r.abrupt("return",n);case 6:case"end":return r.stop()}}),r)})))()},loadReviews:function(e,t){return Object(fe["a"])(regeneratorRuntime.mark((function r(){var n,s,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,s=t.filterBy,r.next=4,Br.query(s);case 4:o=r.sent,console.log("reviews:",o),n({type:"setReviews",reviews:o});case 7:case"end":return r.stop()}}),r)})))()},removeReview:function(e,t){return Object(fe["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.reviewId,r.next=3,Br.remove(n);case 3:e.commit({type:"removeReview",reviewId:n});case 4:case"end":return r.stop()}}),r)})))()}}};n["default"].use(Er["a"]);var Jr=new Er["a"].Store({strict:!0,state:{isLoading:!1,siteTheme:{color:"",bgColor:""}},getters:{siteTheme:function(e){return e.siteTheme},isLoading:function(e){return e.isLoading}},mutations:{setIsLoading:function(e,t){var r=t.isLoading;e.isLoading=r},setPrefs:function(e,t){var r=t.prefs;e.siteTheme=r,console.log("state.siteTheme:",e.siteTheme)}},actions:{},modules:{toyStore:Lr,userStore:Mr,reviewStore:Fr}}),qr=r("5c96"),Gr=r.n(qr),Hr=r("755e");r("0fae"),r("721e");n["default"].config.productionTip=!1,n["default"].use(Hr,{load:{key:"AIzaSyDA-5D_hj0UwZeQ3hTvxn_WgvQK67mk_8w"}}),n["default"].use(Gr.a),new n["default"]({router:Ir,store:Jr,render:function(e){return e(M)}}).$mount("#app")},"721e":function(e,t,r){},bc9f:function(e,t,r){"use strict";r("f186")},d818:function(e,t,r){},f186:function(e,t,r){}});
//# sourceMappingURL=app.d0ac84d5.js.map